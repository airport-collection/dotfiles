# vim: filetype=zsh sw=2 ts=2 sts=2 et tw=80 foldlevel=0 nospell

: <<=cut
=item Function C<file::ls>

List files.

@return NULL
=cut

local -a l a
zparseopts -D l=l a=a

[[ $# -eq 0 ]] && set -- .
setopt localoptions err_return

target=("$@")

# ls --color=always -Fh $l $a ${target} 2>/dev/null | tee >(awk::ls) /tmp/ls.log
ls --color=auto -Fh $l $a ${target} 2>/dev/null
if [[ -n $l ]]; then
  ls -Fh $l $a ${target} 2>/dev/null | awk::ls
fi
